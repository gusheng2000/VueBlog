{"ast":null,"code":"/**\n * @Author: HuaChao Chen <CHC>\n * @Date:   2017-05-03T00:31:20+08:00\n * @Email:  chenhuachaoxyz@gmail.com\n * @Filename: markdown.js\n * @Last modified by:   chc\n * @Last modified time: 2017-11-26T16:40:54+08:00\n * @License: MIT\n * @Copyright: 2017\n */\nimport hljsLangs from './hljs/lang.hljs.js';\n/**\n * Created by zhy on 2017/3/30.\n */\n// default mode\n\nvar markdown_config = {\n  html: true,\n  // Enable HTML tags in source\n  xhtmlOut: true,\n  // Use '/' to close single tags (<br />).\n  breaks: true,\n  // Convert '\\n' in paragraphs into <br>\n  langPrefix: 'language-',\n  // CSS language prefix for fenced blocks. Can be\n  linkify: false,\n  // 自动识别url\n  typographer: true,\n  quotes: '“”‘’',\n  highlight: function highlight(str, lang) {\n    if (lang && hljsLangs[lang]) {\n      return '<pre><div class=\"hljs\"><code class=\"' + lang + '\">' + markdown.utils.escapeHtml(str) + '</code></div></pre>';\n    }\n\n    return '<pre><code class=\"' + lang + '\">' + markdown.utils.escapeHtml(str) + '</code></pre>';\n  }\n};\n\nvar markdown = require('markdown-it')(markdown_config); // 表情\n\n\nvar emoji = require('markdown-it-emoji'); // 下标\n\n\nvar sub = require('markdown-it-sub'); // 上标\n\n\nvar sup = require('markdown-it-sup'); // <dl/>\n\n\nvar deflist = require('markdown-it-deflist'); // <abbr/>\n\n\nvar abbr = require('markdown-it-abbr'); // footnote\n\n\nvar footnote = require('markdown-it-footnote'); // insert 带有下划线 样式 ++ ++\n\n\nvar insert = require('markdown-it-ins'); // mark\n\n\nvar mark = require('markdown-it-mark'); // taskLists\n\n\nvar taskLists = require('markdown-it-task-lists'); //\n\n\nvar container = require('markdown-it-container'); // add target=\"_blank\" to all link\n\n\nvar defaultRender = markdown.renderer.rules.link_open || function (tokens, idx, options, env, self) {\n  return self.renderToken(tokens, idx, options);\n};\n\nmarkdown.renderer.rules.link_open = function (tokens, idx, options, env, self) {\n  // If you are sure other plugins can't add `target` - drop check below\n  var aIndex = tokens[idx].attrIndex('target');\n\n  if (aIndex < 0) {\n    tokens[idx].attrPush(['target', '_blank']); // add new attribute\n  } else {\n    tokens[idx].attrs[aIndex][1] = '_blank'; // replace value of existing attr\n  } // pass token to default renderer.\n\n\n  return defaultRender(tokens, idx, options, env, self);\n}; // math katex\n\n\nvar katex = require('markdown-it-katex-external');\n\nvar miip = require('markdown-it-images-preview');\n\nmarkdown.use(emoji).use(taskLists).use(sup).use(sub).use(container).use(container, 'hljs-left')\n/* align left */\n.use(container, 'hljs-center')\n/* align center */\n.use(container, 'hljs-right')\n/* align right */\n.use(deflist).use(abbr).use(footnote).use(insert).use(mark).use(container).use(miip).use(katex);\nexport default markdown;","map":{"version":3,"names":["hljsLangs","markdown_config","html","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","highlight","str","lang","markdown","utils","escapeHtml","require","emoji","sub","sup","deflist","abbr","footnote","insert","mark","taskLists","container","defaultRender","renderer","rules","link_open","tokens","idx","options","env","self","renderToken","aIndex","attrIndex","attrPush","attrs","katex","miip","use"],"sources":["D:/Work_Space/Demo/vueblog-vue/node_modules/mavon-editor/src/lib/core/markdown.js"],"sourcesContent":["/**\n * @Author: HuaChao Chen <CHC>\n * @Date:   2017-05-03T00:31:20+08:00\n * @Email:  chenhuachaoxyz@gmail.com\n * @Filename: markdown.js\n * @Last modified by:   chc\n * @Last modified time: 2017-11-26T16:40:54+08:00\n * @License: MIT\n * @Copyright: 2017\n */\n\nimport hljsLangs from './hljs/lang.hljs.js'\n\n/**\n * Created by zhy on 2017/3/30.\n */\n// default mode\nvar markdown_config = {\n    html: true,        // Enable HTML tags in source\n    xhtmlOut: true,        // Use '/' to close single tags (<br />).\n    breaks: true,        // Convert '\\n' in paragraphs into <br>\n    langPrefix: 'language-',  // CSS language prefix for fenced blocks. Can be\n    linkify: false,        // 自动识别url\n    typographer: true,\n    quotes: '“”‘’',\n    highlight: function (str, lang) {\n        if (lang && hljsLangs[lang]) {\n            return '<pre><div class=\"hljs\"><code class=\"' + lang + '\">' + markdown.utils.escapeHtml(str) + '</code></div></pre>';\n        }\n        return '<pre><code class=\"' + lang + '\">' + markdown.utils.escapeHtml(str) + '</code></pre>';\n    }\n}\nvar markdown = require('markdown-it')(markdown_config);\n// 表情\nvar emoji = require('markdown-it-emoji');\n// 下标\nvar sub = require('markdown-it-sub')\n// 上标\nvar sup = require('markdown-it-sup')\n// <dl/>\nvar deflist = require('markdown-it-deflist')\n// <abbr/>\nvar abbr = require('markdown-it-abbr')\n// footnote\nvar footnote = require('markdown-it-footnote')\n// insert 带有下划线 样式 ++ ++\nvar insert = require('markdown-it-ins')\n// mark\nvar mark = require('markdown-it-mark')\n// taskLists\nvar taskLists = require('markdown-it-task-lists')\n//\nvar container = require('markdown-it-container')\n// add target=\"_blank\" to all link\nvar defaultRender = markdown.renderer.rules.link_open || function(tokens, idx, options, env, self) {\n    return self.renderToken(tokens, idx, options);\n};\nmarkdown.renderer.rules.link_open = function (tokens, idx, options, env, self) {\n    // If you are sure other plugins can't add `target` - drop check below\n    var aIndex = tokens[idx].attrIndex('target');\n\n    if (aIndex < 0) {\n        tokens[idx].attrPush(['target', '_blank']); // add new attribute\n    } else {\n        tokens[idx].attrs[aIndex][1] = '_blank';    // replace value of existing attr\n    }\n\n    // pass token to default renderer.\n    return defaultRender(tokens, idx, options, env, self);\n};\n// math katex\nvar katex = require('markdown-it-katex-external');\nvar miip = require('markdown-it-images-preview');\nmarkdown.use(emoji)\n    .use(taskLists)\n    .use(sup)\n    .use(sub)\n    .use(container)\n    .use(container, 'hljs-left') /* align left */\n    .use(container, 'hljs-center')/* align center */\n    .use(container, 'hljs-right')/* align right */\n    .use(deflist)\n    .use(abbr)\n    .use(footnote)\n    .use(insert)\n    .use(mark)\n    .use(container)\n    .use(miip)\n    .use(katex)\nexport default markdown\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}