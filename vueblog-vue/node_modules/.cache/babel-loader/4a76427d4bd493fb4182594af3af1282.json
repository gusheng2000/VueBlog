{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Header from \"../components/Header\";\nexport default {\n  name: \"BlogEdit\",\n  components: {\n    Header: Header\n  },\n  data: function data() {\n    return {\n      ruleForm: {\n        id: '',\n        title: '',\n        desription: '',\n        content: ''\n      },\n      rules: {\n        title: [{\n          required: true,\n          message: '请输入标题',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 25,\n          message: '长度在 3 到 25 个字符',\n          trigger: 'blur'\n        }],\n        description: [{\n          required: true,\n          message: '请输入摘要',\n          trigger: 'change'\n        }],\n        content: [{\n          required: true,\n          message: '请输入内容',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  methods: {\n    submitForm: function submitForm(formName) {\n      var _this = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          alert('submit!');\n\n          _this.$axios.post(\"/blog/edit\", _this.ruleForm, {\n            headers: {\n              \"authorization\": localStorage.getItem(\"token\")\n            }\n          }).then(function (res) {\n            console.log(res);\n\n            _this.$alert('操作成功', '提示', {\n              confirmButtonText: '确定',\n              callback: function callback(action) {\n                _this.$router.push(\"/blogs\");\n              }\n            });\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  },\n  created: function created() {}\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AAEA;EACAA,gBADA;EAEAC;IAAAC;EAAA,CAFA;EAGAC,IAHA,kBAGA;IACA;MACAC;QACAC,MADA;QAEAC,SAFA;QAGAC,cAHA;QAIAC;MAJA,CADA;MAQAC;QACAH,QACA;UAAAI;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA,CAFA,CADA;QAKAG,cACA;UAAAL;UAAAC;UAAAC;QAAA,CADA,CALA;QAQAJ,UACA;UAAAE;UAAAC;UAAAC;QAAA,CADA;MARA;IARA;EAqBA,CAzBA;EA0BAI;IACAC,UADA,sBACAC,QADA,EACA;MAAA;;MAEA;QACA;UACAC;;UACA;YACAC;cACA;YADA;UADA,GAIAC,IAJA,CAIA;YACAC;;YACA;cACAC,uBADA;cAEAC;gBACA;cACA;YAJA;UAMA,CAZA;QAaA,CAfA,MAeA;UACAF;UACA;QACA;MACA,CApBA;IAqBA,CAxBA;IAyBAG,SAzBA,qBAyBAP,QAzBA,EAyBA;MACA;IACA;EA3BA,CA1BA;EAuDAQ,OAvDA,qBAuDA,CAEA;AAzDA","names":["name","components","Header","data","ruleForm","id","title","desription","content","rules","required","message","trigger","min","max","description","methods","submitForm","formName","alert","headers","then","console","confirmButtonText","callback","resetForm","created"],"sourceRoot":"src/views","sources":["BlogEdit.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <Header></Header>\r\n        <div class=\"m_context\">\r\n            <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n                <el-form-item label=\"标题\" prop=\"title\">\r\n                    <el-input v-model=\"ruleForm.title\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"摘要\" prop=\"decription\">\r\n                    <el-input type=\"textarea\" v-model=\"ruleForm.desription\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"内容\" prop=\"content\">\r\n                </el-form-item>\r\n                <mavon-editor v-model=\"ruleForm.content\"></mavon-editor>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">立即创建</el-button>\r\n                    <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Header from \"../components/Header\"\r\n\r\n    export default {\r\n        name: \"BlogEdit\",\r\n        components: {Header},\r\n        data() {\r\n            return {\r\n                ruleForm: {\r\n                    id: '',\r\n                    title: '',\r\n                    desription: '',\r\n                    content: '',\r\n\r\n                },\r\n                rules: {\r\n                    title: [\r\n                        {required: true, message: '请输入标题', trigger: 'blur'},\r\n                        {min: 3, max: 25, message: '长度在 3 到 25 个字符', trigger: 'blur'}\r\n                    ],\r\n                    description: [\r\n                        {required: true, message: '请输入摘要', trigger: 'change'}\r\n                    ],\r\n                    content: [\r\n                        {required: true, message: '请输入内容', trigger: 'change'}\r\n                    ],\r\n                }\r\n            };\r\n        },\r\n        methods: {\r\n            submitForm(formName) {\r\n\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        alert('submit!');\r\n                        this.$axios.post(\"/blog/edit\", this.ruleForm, {\r\n                            headers: {\r\n                                \"authorization\": localStorage.getItem(\"token\")\r\n                            }\r\n                        }).then(res => {\r\n                            console.log(res)\r\n                            this.$alert('操作成功', '提示', {\r\n                                confirmButtonText: '确定',\r\n                                callback: action => {\r\n                                    this.$router.push(\"/blogs\")\r\n                                }\r\n                            });\r\n                        })\r\n                    } else {\r\n                        console.log('error submit!!');\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            resetForm(formName) {\r\n                this.$refs[formName].resetFields();\r\n            }\r\n        },\r\n        created() {\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .m_context {\r\n        margin: 0 auto;\r\n        text-align: center;\r\n    }\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}