{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport Vue from \"vue\";\nimport App from \"./App\";\nimport axios from \"axios\";\nimport Element from \"element-ui\";\nimport store from \"./store/\"; //前置url\n\naxios.defaults.baseURL = \"http://localhost:8989\"; //前置拦截\n\naxios.interceptors.request.use(function (config) {\n  return config;\n}); //后置拦截\n\naxios.interceptors.response.use(function (response) {\n  var res = response.data;\n  console.log(\"===============\");\n  console.log(res);\n  console.log(\"===============\");\n\n  if (res.code === 200) {\n    return response;\n  } else {\n    Element.Message.error('账号或者密码错误,请错新输入!', {\n      duration: 3\n    });\n    return Promise.reject(response.data.msg);\n  }\n}, function (error) {\n  if (error.code === 401) {\n    store.commit(\"REMOVE_INFO\");\n  }\n\n  console.log(error);\n});","map":{"version":3,"names":["Vue","App","axios","Element","store","defaults","baseURL","interceptors","request","use","config","response","res","data","console","log","code","Message","error","duration","Promise","reject","msg","commit"],"sources":["D:/Work_Space/Demo/vueblog-vue/src/axios.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport App from \"./App\"\r\nimport axios from \"axios\";\r\nimport Element from \"element-ui\"\r\nimport store from \"./store/\";\r\n\r\n\r\n//前置url\r\naxios.defaults.baseURL = \"http://localhost:8989\"\r\n\r\n//前置拦截\r\naxios.interceptors.request.use(config => {\r\n    return config\r\n})\r\n\r\n\r\n//后置拦截\r\naxios.interceptors.response.use(response => {\r\n        let res = response.data\r\n        console.log(\"===============\")\r\n        console.log(res);\r\n        console.log(\"===============\")\r\n        if (res.code === 200) {\r\n            return response\r\n        } else {\r\n            Element.Message.error('账号或者密码错误,请错新输入!', {duration: 3});\r\n            return Promise.reject(response.data.msg)\r\n        }\r\n\r\n    },\r\n    error => {\r\n        if (error.code === 401) {\r\n            store.commit(\"REMOVE_INFO\")\r\n            \r\n        }\r\n        console.log(error)\r\n    }\r\n)"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,KAAP,MAAkB,UAAlB,C,CAGA;;AACAF,KAAK,CAACG,QAAN,CAAeC,OAAf,GAAyB,uBAAzB,C,CAEA;;AACAJ,KAAK,CAACK,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAI;EACrC,OAAOA,MAAP;AACH,CAFD,E,CAKA;;AACAR,KAAK,CAACK,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,UAAAE,QAAQ,EAAI;EACpC,IAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;EACAC,OAAO,CAACC,GAAR,CAAY,iBAAZ;EACAD,OAAO,CAACC,GAAR,CAAYH,GAAZ;EACAE,OAAO,CAACC,GAAR,CAAY,iBAAZ;;EACA,IAAIH,GAAG,CAACI,IAAJ,KAAa,GAAjB,EAAsB;IAClB,OAAOL,QAAP;EACH,CAFD,MAEO;IACHR,OAAO,CAACc,OAAR,CAAgBC,KAAhB,CAAsB,iBAAtB,EAAyC;MAACC,QAAQ,EAAE;IAAX,CAAzC;IACA,OAAOC,OAAO,CAACC,MAAR,CAAeV,QAAQ,CAACE,IAAT,CAAcS,GAA7B,CAAP;EACH;AAEJ,CAZL,EAaI,UAAAJ,KAAK,EAAI;EACL,IAAIA,KAAK,CAACF,IAAN,KAAe,GAAnB,EAAwB;IACpBZ,KAAK,CAACmB,MAAN,CAAa,aAAb;EAEH;;EACDT,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACH,CAnBL"},"metadata":{},"sourceType":"module"}