{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport Vue from \"vue\";\nimport App from \"./App\";\nimport axios from \"axios\";\nimport Element from \"element-ui\";\nimport store from \"./store/\";\nimport router from \"@/router\"; //前置url\n\naxios.defaults.baseURL = \"http://localhost:8081\"; //前置拦截\n\naxios.interceptors.request.use(function (config) {\n  return config;\n}); //后置拦截\n\naxios.interceptors.response.use(function (response) {\n  var res = response.data; // console.log(\"===============\")\n  // console.log(res);\n  // console.log(\"===============\")\n\n  if (res.code === 100 || res.code === 200) {\n    return response;\n  } else if (res.code === 600) {\n    Element.Message.error(res.msg, {\n      duration: 3\n    });\n    return Promise.reject(response.data.msg);\n  } else {\n    Element.Message.error('账号或者密码错误,请从新输入!', {\n      duration: 3\n    });\n    return Promise.reject(response.data.msg);\n  }\n}, function (error) {\n  console.log(error);\n\n  if (error.response.data) {\n    error.message = error.response.data.msg;\n  }\n\n  if (error.code === 401) {\n    store.commit(\"REMOVE_INFO\");\n    router.push(\"/login\");\n  }\n\n  Element.Message.error(error.message, {\n    duration: 3\n  });\n  return Promise.reject(error.message);\n});","map":{"version":3,"names":["Vue","App","axios","Element","store","router","defaults","baseURL","interceptors","request","use","config","response","res","data","code","Message","error","msg","duration","Promise","reject","console","log","message","commit","push"],"sources":["D:/Work_Space/Demo/vueblog-vue/src/axios.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport App from \"./App\"\r\nimport axios from \"axios\";\r\nimport Element from \"element-ui\"\r\nimport store from \"./store/\";\r\nimport router from \"@/router\";\r\n\r\n\r\n//前置url\r\naxios.defaults.baseURL = \"http://localhost:8081\"\r\n\r\n//前置拦截\r\naxios.interceptors.request.use(config => {\r\n    return config\r\n})\r\n\r\n\r\n//后置拦截\r\naxios.interceptors.response.use(response => {\r\n        let res = response.data\r\n        // console.log(\"===============\")\r\n        // console.log(res);\r\n        // console.log(\"===============\")\r\n        if (res.code === 100||res.code===200) {\r\n            return response\r\n        } else if (res.code === 600) {\r\n            Element.Message.error(res.msg, {duration: 3});\r\n            return Promise.reject(response.data.msg)\r\n        } else {\r\n            Element.Message.error('账号或者密码错误,请从新输入!', {duration: 3});\r\n            return Promise.reject(response.data.msg)\r\n        }\r\n\r\n    },\r\n\r\n    error => {\r\n        console.log(error);\r\n        if (error.response.data) {\r\n            error.message = error.response.data.msg\r\n        }\r\n        if (error.code === 401) {\r\n            store.commit(\"REMOVE_INFO\")\r\n            router.push(\"/login\")\r\n        }\r\n        Element.Message.error(error.message, {duration: 3});\r\n        return Promise.reject(error.message)\r\n    }\r\n)"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CAGA;;AACAH,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyB,uBAAzB,C,CAEA;;AACAL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAI;EACrC,OAAOA,MAAP;AACH,CAFD,E,CAKA;;AACAT,KAAK,CAACM,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,UAAAE,QAAQ,EAAI;EACpC,IAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB,CADoC,CAEpC;EACA;EACA;;EACA,IAAID,GAAG,CAACE,IAAJ,KAAa,GAAb,IAAkBF,GAAG,CAACE,IAAJ,KAAW,GAAjC,EAAsC;IAClC,OAAOH,QAAP;EACH,CAFD,MAEO,IAAIC,GAAG,CAACE,IAAJ,KAAa,GAAjB,EAAsB;IACzBZ,OAAO,CAACa,OAAR,CAAgBC,KAAhB,CAAsBJ,GAAG,CAACK,GAA1B,EAA+B;MAACC,QAAQ,EAAE;IAAX,CAA/B;IACA,OAAOC,OAAO,CAACC,MAAR,CAAeT,QAAQ,CAACE,IAAT,CAAcI,GAA7B,CAAP;EACH,CAHM,MAGA;IACHf,OAAO,CAACa,OAAR,CAAgBC,KAAhB,CAAsB,iBAAtB,EAAyC;MAACE,QAAQ,EAAE;IAAX,CAAzC;IACA,OAAOC,OAAO,CAACC,MAAR,CAAeT,QAAQ,CAACE,IAAT,CAAcI,GAA7B,CAAP;EACH;AAEJ,CAfL,EAiBI,UAAAD,KAAK,EAAI;EACLK,OAAO,CAACC,GAAR,CAAYN,KAAZ;;EACA,IAAIA,KAAK,CAACL,QAAN,CAAeE,IAAnB,EAAyB;IACrBG,KAAK,CAACO,OAAN,GAAgBP,KAAK,CAACL,QAAN,CAAeE,IAAf,CAAoBI,GAApC;EACH;;EACD,IAAID,KAAK,CAACF,IAAN,KAAe,GAAnB,EAAwB;IACpBX,KAAK,CAACqB,MAAN,CAAa,aAAb;IACApB,MAAM,CAACqB,IAAP,CAAY,QAAZ;EACH;;EACDvB,OAAO,CAACa,OAAR,CAAgBC,KAAhB,CAAsBA,KAAK,CAACO,OAA5B,EAAqC;IAACL,QAAQ,EAAE;EAAX,CAArC;EACA,OAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAK,CAACO,OAArB,CAAP;AACH,CA5BL"},"metadata":{},"sourceType":"module"}