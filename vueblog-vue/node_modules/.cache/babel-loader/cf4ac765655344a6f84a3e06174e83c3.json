{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport Vue from \"vue\";\nimport App from \"./App\";\nimport axios from \"axios\";\nimport Element from \"element-ui\";\nimport store from \"./store/\";\nimport router from \"@/router\"; //前置url\n\naxios.defaults.baseURL = \"http://localhost:8081\"; //前置拦截\n\naxios.interceptors.request.use(function (config) {\n  return config;\n}); //后置拦截\n\naxios.interceptors.response.use(function (response) {\n  var res = response.data;\n  console.log(\"===============\");\n  console.log(res);\n  console.log(\"===============\");\n\n  if (res.code === 100) {\n    return response;\n  } else {\n    Element.Message.error('账号或者密码错误,请从新输入!', {\n      duration: 3\n    });\n    return Promise.reject(response.data.msg);\n  }\n}, function (error) {\n  if (error.response.data) {\n    error.message = error.response.data.msg;\n  }\n\n  if (error.code === 401) {\n    store.commit(\"REMOVE_INFO\");\n    router.push(\"/login\");\n    Element.Message.error(error.message, {\n      duration: 3\n    });\n    return Promise.reject(error.message);\n  }\n});","map":{"version":3,"names":["Vue","App","axios","Element","store","router","defaults","baseURL","interceptors","request","use","config","response","res","data","console","log","code","Message","error","duration","Promise","reject","msg","message","commit","push"],"sources":["D:/Work_Space/Demo/vueblog-vue/src/axios.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport App from \"./App\"\r\nimport axios from \"axios\";\r\nimport Element from \"element-ui\"\r\nimport store from \"./store/\";\r\nimport router from \"@/router\";\r\n\r\n\r\n//前置url\r\naxios.defaults.baseURL = \"http://localhost:8081\"\r\n\r\n//前置拦截\r\naxios.interceptors.request.use(config => {\r\n    return config\r\n})\r\n\r\n\r\n//后置拦截\r\naxios.interceptors.response.use(response => {\r\n        let res = response.data\r\n        console.log(\"===============\")\r\n        console.log(res);\r\n        console.log(\"===============\")\r\n        if (res.code === 100) {\r\n            return response\r\n        } else {\r\n            Element.Message.error('账号或者密码错误,请从新输入!', {duration: 3});\r\n            return Promise.reject(response.data.msg)\r\n        }\r\n\r\n    },\r\n    \r\n    error => {\r\n        if (error.response.data) {\r\n            error.message = error.response.data.msg\r\n        }\r\n        if (error.code === 401) {\r\n            store.commit(\"REMOVE_INFO\")\r\n            router.push(\"/login\")\r\n            Element.Message.error(error.message, {duration: 3});\r\n            return Promise.reject(error.message)\r\n        }\r\n    }\r\n)"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CAGA;;AACAH,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyB,uBAAzB,C,CAEA;;AACAL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAI;EACrC,OAAOA,MAAP;AACH,CAFD,E,CAKA;;AACAT,KAAK,CAACM,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,UAAAE,QAAQ,EAAI;EACpC,IAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;EACAC,OAAO,CAACC,GAAR,CAAY,iBAAZ;EACAD,OAAO,CAACC,GAAR,CAAYH,GAAZ;EACAE,OAAO,CAACC,GAAR,CAAY,iBAAZ;;EACA,IAAIH,GAAG,CAACI,IAAJ,KAAa,GAAjB,EAAsB;IAClB,OAAOL,QAAP;EACH,CAFD,MAEO;IACHT,OAAO,CAACe,OAAR,CAAgBC,KAAhB,CAAsB,iBAAtB,EAAyC;MAACC,QAAQ,EAAE;IAAX,CAAzC;IACA,OAAOC,OAAO,CAACC,MAAR,CAAeV,QAAQ,CAACE,IAAT,CAAcS,GAA7B,CAAP;EACH;AAEJ,CAZL,EAcI,UAAAJ,KAAK,EAAI;EACL,IAAIA,KAAK,CAACP,QAAN,CAAeE,IAAnB,EAAyB;IACrBK,KAAK,CAACK,OAAN,GAAgBL,KAAK,CAACP,QAAN,CAAeE,IAAf,CAAoBS,GAApC;EACH;;EACD,IAAIJ,KAAK,CAACF,IAAN,KAAe,GAAnB,EAAwB;IACpBb,KAAK,CAACqB,MAAN,CAAa,aAAb;IACApB,MAAM,CAACqB,IAAP,CAAY,QAAZ;IACAvB,OAAO,CAACe,OAAR,CAAgBC,KAAhB,CAAsBA,KAAK,CAACK,OAA5B,EAAqC;MAACJ,QAAQ,EAAE;IAAX,CAArC;IACA,OAAOC,OAAO,CAACC,MAAR,CAAeH,KAAK,CAACK,OAArB,CAAP;EACH;AACJ,CAxBL"},"metadata":{},"sourceType":"module"}